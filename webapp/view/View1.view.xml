<mvc:View controllerName="project1.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:tnt="sap.tnt"
    xmlns:f="sap.f"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:grid="sap.ui.layout.cssgrid"
    displayBlock="true"
    height="100%">
    
    <!-- Custom Blue Header -->
    <tnt:ToolHeader class="customToolHeader">
        <Image src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/SAP-Logo.svg/1200px-SAP-Logo.svg.png" height="30px" />
        <Title text="UTHM" wrapping="false" class="sapUiTinyMarginBegin" />
        <ToolbarSpacer />
        <Button text="Course Registration" icon="sap-icon://education" type="Transparent" />
        <Button text="Hostel Management" icon="sap-icon://building" type="Transparent" />
        <Button text="Financial Management" icon="sap-icon://money-bills" type="Transparent" />
        <Button text="Academic Advising" icon="sap-icon://group" type="Transparent" />
        <ToolbarSpacer />
        <Button icon="sap-icon://translate" type="Transparent" />
        <Button icon="sap-icon://search" type="Transparent" />
        <Button icon="sap-icon://bell" type="Transparent" />
        <Avatar src="{courseModel>/student/avatar}" displaySize="XS" />
    </tnt:ToolHeader>

    <tnt:ToolPage id="toolPage">
        <tnt:sideContent>
            <tnt:SideNavigation expanded="true">
                <tnt:item>
                    <tnt:NavigationList>
                        <tnt:NavigationListItem text="View Profile" icon="sap-icon://person-placeholder" />
                        <tnt:NavigationListItem text="Academic Matters" icon="sap-icon://book" />
                        <tnt:NavigationListItem text="Timetable" icon="sap-icon://calendar" />
                        <tnt:NavigationListItem text="Credit Transfer" icon="sap-icon://compare" />
                        <tnt:NavigationListItem text="Course Registration" icon="sap-icon://course-book" selected="true" />
                        <tnt:NavigationListItem text="ePPPK" icon="sap-icon://document" />
                        <tnt:NavigationListItem text="Student Experience" icon="sap-icon://student" />
                        <tnt:NavigationListItem text="Industrial Training" icon="sap-icon://factory" />
                    </tnt:NavigationList>
                </tnt:item>
            </tnt:SideNavigation>
        </tnt:sideContent>
        <tnt:mainContents>
            <App>
                <Page showHeader="false" backgroundDesign="Solid" enableScrolling="true">
                    <content>
                        <!-- Full Screen Flex Layout -->
                        <HBox width="100%" height="auto" class="sapUiTinyMarginTop" wrap="Wrap">
                            <!-- Left: Course List (70%) -->
                            <VBox width="70%" class="sapUiSmallMarginEnd">
                                <layoutData>
                                    <FlexItemData styleClass="sapUiResponsiveContentPadding" growFactor="1" minWidth="600px" />
                                </layoutData>
                                
                                <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiMediumMarginBottom">
                                    <SearchField placeholder="Search by course name, code, or lecturer..." width="100%" /> 
                                    <Button text="Filters" icon="sap-icon://filter" class="sapUiSmallMarginBegin" />
                                </HBox>

                                <Title text="Available Courses" titleStyle="H2" class="courseTableTitle sapUiSmallMarginBottom" />
                                <Text text="Showing {= ${courseModel>/availableCourses}.length } of {= ${courseModel>/availableCourses}.length } courses" class="sapUiSmallMarginBottom" />

                                <Table items="{courseModel>/availableCourses}" mode="None" class="sapUiSmallMarginBottom">
                                    <columns>
                                        <Column width="15%"><Text text="Code" /></Column>
                                        <Column width="30%"><Text text="Course Name" /></Column>
                                        <Column width="10%"><Text text="Credit Hours" /></Column>
                                        <Column width="10%"><Text text="Type" /></Column>
                                        <Column width="10%"><Text text="Section" /></Column>
                                        <Column width="10%"><Text text="Action" /></Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                                <Text text="{courseModel>code}" />
                                                <VBox>
                                                    <Title text="{courseModel>name}" level="H5" />
                                                    <Text text="{courseModel>lecturer}" class="sapUiTinyMarginTop textGray" />
                                                    <Text text="{courseModel>schedule}" class="sapUiTinyMarginTop textGray" />
                                                </VBox>
                                                <Text text="{courseModel>credits}" />
                                                <ObjectStatus text="{courseModel>type}" state="Information" inverted="true" />
                                                <Text text="{courseModel>section}" />
                                                <Button icon="sap-icon://add" type="Emphasized" press=".onAddCourse" tooltip="Add Course" />
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                                
                                <HBox justifyContent="Center" class="customFooter">
                                    <Text text="Copy right @ 2021 LMS Dashboard" />
                                </HBox>
                            </VBox>

                            <!-- Right: Validator Panel (30%) -->
                            <VBox width="30%" class="sapUiSmallMarginBegin">
                                <layoutData>
                                    <FlexItemData growFactor="0" minWidth="300px" />
                                </layoutData>
                                
                                <!-- Card-like Container -->
                                <VBox class="validatorPanel">
                                    <Title text="Pending Registration" titleStyle="H4" class="pendingCardTitle" />
                                    
                                    <VBox alignItems="Center" class="sapUiMediumMarginTopBottom">
                                        <Title text="{= ${courseModel>/registeredCourses}.length } Subjects Selected" level="H5" class="sapUiSmallMarginBottom" />
                                        
                                        <HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMarginBottom">
                                            <Title text="{courseModel>/ui/totalCredits}" titleStyle="H1" />
                                            <Title text=" / {courseModel>/student/maxCredits} Credits" titleStyle="H3" class="sapUiTinyMarginBegin" />
                                        </HBox>

                                        <!-- Red Badge -->
                                        <core:HTML content='&lt;div class="creditBadgeError"&gt;{courseModel>/ui/warningMessage}&lt;/div&gt;' 
                                                   visible="{= ${courseModel>/ui/isWarningVisible} &amp;&amp; (${courseModel>/ui/warningType} === 'Error' || ${courseModel>/ui/warningType} === 'Warning') }" />
                                        
                                        <!-- Green Badge -->
                                        <core:HTML content='&lt;div class="creditBadgeSuccess"&gt;Credit Hours OK&lt;/div&gt;'
                                                   visible="{= !${courseModel>/ui/isWarningVisible} }" />

                                        <Text text="No courses selected" visible="{= ${courseModel>/registeredCourses}.length === 0 }" class="sapUiSmallMarginTop textGray" />
                                        <Text text="Click the + icon to add courses" visible="{= ${courseModel>/registeredCourses}.length === 0 }" class="textGray" />
                                    </VBox>

                                    <!-- Registered List -->
                                    <List items="{courseModel>/registeredCourses}" mode="Delete" delete=".onRemoveCourse" class="sapUiSmallMarginBottom">
                                        <StandardListItem title="{courseModel>code}" description="{courseModel>credits} Credits" />
                                    </List>

                                    <VBox class="sapUiMediumMarginTop">
                                        <Button text="Register for Courses" type="Accept" width="100%" 
                                            enabled="{= !${courseModel>/ui/isWarningVisible} &amp;&amp; ${courseModel>/registeredCourses}.length > 0 }" 
                                            press=".onRegister"
                                            class="sapUiTinyMarginBottom" />
                                        <Button text="Save Draft" type="Default" width="100%" />
                                    </VBox>

                                    <MessageStrip text="Note: Registration is subject to course availability and prerequisite requirements." showIcon="true" type="Information" class="sapUiSmallMarginTop" />
                                </VBox>
                            </VBox>
                        </HBox>
                    </content>
                </Page>
            </App>
        </tnt:mainContents>
    </tnt:ToolPage>
</mvc:View>